{"version":3,"sources":["core/types/Card.ts","styles/theme.ts","core/utils/constants.ts","core/store/context.ts","core/store/reducer.ts","core/utils/value.ts","core/store/Store.tsx","styles/device.ts","styles/GlobalStyle.ts","components/Cards.tsx","components/Score.tsx","components/Hand.tsx","core/services/api.ts","components/Button.tsx","components/MainActions.tsx","App.tsx","core/hooks/useDeviceDetect.tsx","reportWebVitals.ts","index.tsx"],"names":["Value","theme","colors","black","white","greyDark","pink","purple","purpleDark","green","red","GameState","SCORE_LIMIT","FACE_CARDS","KING","QUEEN","JACK","ACE_CARD","ACE","DeviceSize","gameStateText","GAME_OVER","WIN","IN_PROGRESS","PLAYER_STOOD","gameStateColor","Actions","initialState","deckId","undefined","player","cards","score","bank","playerStood","gameState","context","createContext","Provider","Consumer","getScore","values","aceNumber","filter","value","length","reduce","acc","includes","Number","getValue","getAceValue","reducer","state","action","type","NEW_GAME","payload","PLAYER_HIT","newPlayerCards","concat","newPlayerScore","map","card","BANK_HIT","newBankCards","newBankScore","PLAYER_STAND","UPDATE_GAME","Store","children","useReducer","dispatch","device","mobileS","MOBILE_S","mobileM","MOBILE_M","mobileL","MOBILE_L","tablet","TABLET","laptop","LAPTOP","laptopL","LAPTOP_L","desktop","DESKTOP","desktopL","GlobalStyle","createGlobalStyle","imagePerLine","Wrapper","styled","figure","Image","img","number","Cards","index","src","image","alt","suit","div","Score","article","Title","h2","Hand","React","forwardRef","ref","title","game","a","axios","get","response","data","getNewCard","defaults","baseURL","Button","button","disabled","MainActions","useContext","useMemo","interval","useRef","startNewGame","current","stopBankHitting","getNewDeck","then","deck_id","clearInterval","useEffect","setInterval","catch","err","aria-label","onClick","Container","section","GameInfo","backgroundColor","h1","Subtitle","App","bankHandComponent","isMobile","useState","window","innerWidth","width","setWidth","handleResize","addEventListener","removeEventListener","useDeviceDetect","newState","playerScore","bankScore","evaluateScoreResults","scrollIntoView","behavior","block","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b6e241b3.chunk.js","sourcesContent":["export enum Value {\n  ACE = 'ACE',\n  KING = 'KING',\n  QUEEN = 'QUEEN',\n  JACK = 'JACK',\n  ONE = '1',\n  TWO = '2',\n  THREE = '3',\n  FOUR = '4',\n  FIVE = '5',\n  SIX = '6',\n  SEVEN = '7',\n  EIGHT = '8',\n  NINE = '9',\n  TEN = '10',\n}\n\nexport default interface Card {\n  image: string;\n  value: Value;\n  suit: string;\n  code: string;\n}\n","export type ThemeType = typeof theme;\n\nconst theme = {\n  colors: {\n    black: '#050505',\n    white: '#ffffff',\n    greyDark: '#191919',\n    pink: '#f093b0',\n    purple: '#4f41ab',\n    purpleDark: '#3725ae',\n    green: '#41a447',\n    red: '#a44141',\n  },\n};\n\nexport default theme;\n","import theme from '../../styles/theme';\nimport { Value } from '../types/Card';\n\nexport const SCORE_LIMIT = 21;\n\nexport const FACE_CARDS = [Value.KING, Value.QUEEN, Value.JACK];\nexport const FACE_CARDS_VALUE = 10;\n\nexport const ACE_CARD = Value.ACE;\nexport const ACE_VALUE_UNDER_21 = 11;\nexport const ACE_VALUE_OVER_21 = 1;\n\nexport enum GameState {\n  GAME_OVER = 'GAME_OVER',\n  WIN = 'WIN',\n  IN_PROGRESS = 'IN_PROGRESS',\n  PLAYER_STOOD = 'PLAYER_STOOD',\n}\n\nexport const gameStateText = {\n  [GameState.GAME_OVER]: 'Game Over',\n  [GameState.WIN]: 'You win',\n  [GameState.IN_PROGRESS]: `It's your turn`,\n  [GameState.PLAYER_STOOD]: 'Bank is playing',\n};\n\nexport const gameStateColor = {\n  [GameState.GAME_OVER]: theme.colors.red,\n  [GameState.WIN]: theme.colors.green,\n  [GameState.IN_PROGRESS]: theme.colors.purple,\n  [GameState.PLAYER_STOOD]: theme.colors.greyDark,\n};\n\nexport enum DeviceSize {\n  MOBILE_S = 320,\n  MOBILE_M = 375,\n  MOBILE_L = 425,\n  TABLET = 768,\n  LAPTOP = 1024,\n  LAPTOP_L = 1440,\n  DESKTOP = 2560,\n}\n","import { createContext, Dispatch } from 'react';\nimport Card from '../types/Card';\nimport { GameState } from '../utils/constants';\nimport { Action } from './reducer';\n\ninterface Player {\n  cards: Card[];\n  score: number;\n}\nexport interface State {\n  deckId?: string;\n  player: Player;\n  bank: Player;\n  playerStood: boolean;\n  gameState: GameState;\n}\n\nexport type Context = [State, Dispatch<Action>];\n\nexport const initialState: State = {\n  deckId: undefined,\n  player: {\n    cards: [],\n    score: 0,\n  },\n  bank: {\n    cards: [],\n    score: 0,\n  },\n  playerStood: false,\n  gameState: GameState.IN_PROGRESS,\n};\n\n// @ts-ignore\nconst context = createContext<Context>([]);\nconst { Provider, Consumer } = context;\n\nexport { Provider, Consumer };\nexport default context;\n","import { initialState, State } from './context';\nimport Card from '../types/Card';\nimport { getScore } from '../utils/value';\nimport { GameState } from '../utils/constants';\n\nexport enum Actions {\n  NEW_GAME = 'NEW_GAME',\n  PLAYER_HIT = 'PLAYER_HIT',\n  PLAYER_STAND = 'PLAYER_STAND',\n  BANK_HIT = 'BANK_HIT',\n  UPDATE_GAME = 'UPDATE_GAME',\n}\n\nexport type Action =\n  | { type: Actions.NEW_GAME; payload: string }\n  | { type: Actions.PLAYER_HIT; payload: Card }\n  | { type: Actions.PLAYER_STAND }\n  | { type: Actions.BANK_HIT; payload: Card }\n  | { type: Actions.UPDATE_GAME; payload: GameState };\n\nexport default function reducer(state: State, action: Action): State {\n  switch (action.type) {\n    case Actions.NEW_GAME:\n      return {\n        ...initialState,\n        deckId: action.payload,\n      };\n    case Actions.PLAYER_HIT:\n      const newPlayerCards = state.player.cards.concat(action.payload);\n      const newPlayerScore = getScore(newPlayerCards.map((card) => card.value));\n\n      return {\n        ...state,\n        player: {\n          ...state.player,\n          cards: newPlayerCards,\n          score: newPlayerScore,\n        },\n      };\n    case Actions.BANK_HIT:\n      const newBankCards = state.bank.cards.concat(action.payload);\n      const newBankScore = getScore(newBankCards.map((card) => card.value));\n\n      return {\n        ...state,\n        bank: {\n          ...state.bank,\n          cards: newBankCards,\n          score: newBankScore,\n        },\n      };\n    case Actions.PLAYER_STAND:\n      return {\n        ...state,\n        playerStood: true,\n      };\n    case Actions.UPDATE_GAME:\n      return {\n        ...state,\n        gameState: action.payload,\n      };\n    default:\n      return state;\n  }\n}\n","import { Value } from '../types/Card';\nimport {\n  ACE_CARD,\n  ACE_VALUE_OVER_21,\n  ACE_VALUE_UNDER_21,\n  FACE_CARDS,\n  FACE_CARDS_VALUE,\n  GameState,\n  SCORE_LIMIT,\n} from './constants';\n\nfunction getValue(value: Value) {\n  const hasFaceCard = FACE_CARDS.includes(value);\n\n  return hasFaceCard ? FACE_CARDS_VALUE : Number(value);\n}\n\nfunction getAceValue(aceNumber: number, score: number) {\n  if (aceNumber > 1 || score + ACE_VALUE_UNDER_21 > SCORE_LIMIT) {\n    return ACE_VALUE_OVER_21 * aceNumber;\n  } else {\n    return ACE_VALUE_UNDER_21;\n  }\n}\n\nexport function getScore(values: Value[]) {\n  const aceNumber = values.filter((value) => value === ACE_CARD).length;\n\n  const score = values\n    .filter((value) => value !== ACE_CARD)\n    .reduce((acc, value) => acc + getValue(value), 0);\n\n  const aceValue = aceNumber ? getAceValue(aceNumber, score) : 0;\n\n  return score + aceValue;\n}\n\nexport function evaluateScoreResults(\n  playerScore: number,\n  bankScore: number,\n  playerStood: boolean\n): GameState {\n  if (playerScore <= SCORE_LIMIT && playerStood && bankScore > SCORE_LIMIT) {\n    return GameState.WIN;\n  } else if (playerScore > SCORE_LIMIT || bankScore === SCORE_LIMIT) {\n    return GameState.GAME_OVER;\n  } else if (playerStood) {\n    return GameState.PLAYER_STOOD;\n  }\n\n  return GameState.IN_PROGRESS;\n}\n","import { Reducer, useReducer } from 'react';\nimport reducer, { Action } from './reducer';\nimport { Provider, State, initialState } from './context';\n\ninterface Props {\n  children: React.ReactNode;\n}\n\nexport default function Store({ children }: Props) {\n  const [state, dispatch] = useReducer<Reducer<State, Action>>(\n    reducer,\n    initialState\n  );\n\n  return <Provider value={[state, dispatch]}>{children}</Provider>;\n}\n","import { DeviceSize } from '../core/utils/constants';\n\nconst device = {\n  mobileS: `(min-width: ${DeviceSize.MOBILE_S}px)`,\n  mobileM: `(min-width: ${DeviceSize.MOBILE_M}px)`,\n  mobileL: `(min-width: ${DeviceSize.MOBILE_L}px)`,\n  tablet: `(min-width: ${DeviceSize.TABLET}px)`,\n  laptop: `(min-width: ${DeviceSize.LAPTOP}px)`,\n  laptopL: `(min-width: ${DeviceSize.LAPTOP_L}px)`,\n  desktop: `(min-width: ${DeviceSize.DESKTOP}px)`,\n  desktopL: `(min-width: ${DeviceSize.DESKTOP}px)`,\n};\n\nexport default device;\n","import { createGlobalStyle } from 'styled-components';\nimport { ThemeType } from './theme';\n\nconst GlobalStyle = createGlobalStyle<{ theme: ThemeType }>`\n*, \n*:before, \n*:after {\n  box-sizing: border-box;\n}\n\nbody {\n  background: ${({ theme }) => theme.colors.black};\n  color: ${({ theme }) => theme.colors.white}\n}\n`;\n\nexport default GlobalStyle;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport Card from '../core/types/Card';\nimport device from '../styles/device';\n\ninterface Props {\n  cards: Card[];\n}\n\ntype ImageProps = {\n  number: number;\n};\n\nconst imagePerLine = {\n  mobile: 5,\n  desktop: 9,\n};\n\nconst Wrapper = styled.figure`\n  position: relative;\n  height: 200px;\n  width: 100%;\n`;\n\nconst Image = styled.img<ImageProps>`\n  position: absolute;\n  border-radius: 4px;\n  width: 70px;\n  height: 100px;\n  font-size: 0.8rem;\n  box-shadow: 1px 0 8px ${({ theme }) => theme.colors.black};\n\n  top: ${({ number }) => (number > imagePerLine.mobile ? '40px;' : '0px')};\n  left: ${({ number }) =>\n    number > imagePerLine.mobile\n      ? (number - imagePerLine.mobile - 1) * 30\n      : number * 30}px;\n\n  @media ${device.mobileL} {\n    top: ${({ number }) => (number > imagePerLine.desktop ? '40px;' : '0px')};\n    left: ${({ number }) =>\n      number > imagePerLine.desktop\n        ? (number - imagePerLine.desktop - 1) * 30\n        : number * 30}px;\n  }\n`;\n\nexport default function Cards({ cards }: Props) {\n  return (\n    <Wrapper>\n      {cards.map((card, index) => (\n        <Image\n          key={`${card.value}_${card.suit}_${index}`}\n          src={card.image}\n          alt={`${card.value} of ${card.suit}`}\n          number={index}\n        />\n      ))}\n    </Wrapper>\n  );\n}\n","import React from 'react';\nimport styled from 'styled-components';\n\ninterface Props {\n  score: number;\n}\n\nconst Wrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 20px;\n  width: 40px;\n  height: 40px;\n  background-color: ${({ theme }) => theme.colors.pink};\n  color: ${({ theme }) => theme.colors.greyDark};\n  border-radius: 50%;\n`;\n\nexport default function Score({ score }: Props) {\n  return <Wrapper>{score}</Wrapper>;\n}\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport Card from '../core/types/Card';\nimport device from '../styles/device';\n\nimport Cards from './Cards';\nimport Score from './Score';\n\ninterface Props {\n  title: string;\n  game: {\n    cards: Card[];\n    score: number;\n  };\n}\n\nconst Wrapper = styled.article`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n  background-color: ${({ theme }) => theme.colors.greyDark};\n  width: 100%;\n  height: 400px;\n  border-radius: 5px;\n  padding: 20px;\n\n  @media ${device.tablet} {\n    width: 400px;\n  }\n`;\n\nconst Title = styled.h2``;\n\nconst Hand = React.forwardRef<HTMLDivElement, Props>(({ title, game }, ref) => (\n  <Wrapper ref={ref}>\n    <Title>{title}</Title>\n    <Cards cards={game.cards} />\n    <Score score={game.score} />\n  </Wrapper>\n));\n\nexport default Hand;\n","import axios, { AxiosResponse } from 'axios';\nimport Deck from '../types/Deck';\nimport Card from '../types/Card';\n\n// setup the base API URL\naxios.defaults.baseURL = 'https://deckofcardsapi.com/api/';\n\nexport async function getNewDeck(): Promise<Deck> {\n  const response: AxiosResponse<Deck> = await axios.get(\n    'deck/new/shuffle/?deck_count=6'\n  );\n\n  return response.data;\n}\n\nexport async function getNewCard(deckId: string): Promise<Card> {\n  const response: AxiosResponse<{ cards: Card[] }> = await axios.get(\n    `deck/${deckId}/draw/?count=1`\n  );\n\n  return response.data.cards[0];\n}\n","import styled from 'styled-components';\n\nconst Button = styled.button`\n  font-family: 'Poppins';\n  border: 0;\n  padding: 10px 40px;\n  font-size: 1rem;\n  text-transform: uppercase;\n  border-radius: 30px;\n  background-color: ${({ theme, disabled }) =>\n    !disabled ? theme.colors.purple : theme.colors.greyDark};\n  color: ${({ theme }) => theme.colors.white};\n  ${({ disabled }) => !disabled && 'cursor: pointer;'}\n  transition: background-color 0.3s ease;\n  box-shadow: 1px 1px 1px;\n\n  &:hover {\n    background-color: ${({ theme, disabled }) =>\n      !disabled ? theme.colors.purpleDark : theme.colors.greyDark};\n  }\n`;\n\nexport default Button;\n","import React, { useContext, useEffect, useMemo, useRef } from 'react';\nimport styled from 'styled-components';\n\nimport { getNewCard, getNewDeck } from '../core/services/api';\nimport context from '../core/store/context';\nimport { Actions } from '../core/store/reducer';\nimport { GameState, SCORE_LIMIT } from '../core/utils/constants';\nimport device from '../styles/device';\n\nimport Button from './Button';\n\nconst Wrapper = styled.div`\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  justify-content: center;\n  flex-direction: column-reverse;\n  margin: 30px;\n\n  > div:last-child > button:first-child {\n    margin-right: 10px;\n  }\n\n  > div:first-child {\n    margin-top: 20px;\n  }\n\n  @media ${device.tablet} {\n    flex-direction: row;\n\n    > div:first-child {\n      margin-top: 0;\n      margin-right: 50px;\n    }\n  }\n`;\n\nexport default function MainActions() {\n  const [state, dispatch] = useContext(context);\n\n  const { deckId, bank, playerStood, gameState } = state;\n\n  const disabled = useMemo(\n    () =>\n      !deckId ||\n      playerStood ||\n      gameState === GameState.GAME_OVER ||\n      gameState === GameState.WIN,\n    [playerStood, gameState, deckId]\n  );\n\n  const interval = useRef<null | number>(null);\n\n  const startNewGame = () => {\n    if (interval.current) {\n      stopBankHitting();\n    }\n\n    getNewDeck().then((data) => {\n      dispatch({ type: Actions.NEW_GAME, payload: data.deck_id });\n    });\n  };\n\n  const playerHitting = () => {\n    getNewCard(deckId!)\n      .then((data) => dispatch({ type: Actions.PLAYER_HIT, payload: data }))\n      .catch((err) => err);\n  };\n\n  const playerStanding = () => {\n    dispatch({ type: Actions.PLAYER_STAND });\n  };\n\n  const stopBankHitting = () => {\n    clearInterval(interval.current!);\n    interval.current = null;\n  };\n\n  useEffect(() => {\n    if (!deckId) {\n      startNewGame();\n    }\n  });\n\n  useEffect(() => {\n    if (playerStood && !interval.current) {\n      interval.current = setInterval(() => {\n        getNewCard(deckId!)\n          .then((data) => dispatch({ type: Actions.BANK_HIT, payload: data }))\n          .catch((err) => err);\n      }, 2000);\n    } else if (bank.score >= SCORE_LIMIT) {\n      stopBankHitting();\n    }\n  }, [playerStood, bank.score, deckId, dispatch]);\n\n  return (\n    <Wrapper>\n      <div>\n        <Button aria-label=\"Get a refresh\" onClick={startNewGame}>\n          Start new game\n        </Button>\n      </div>\n      <div>\n        <Button\n          aria-label=\"Hit, draw a card\"\n          disabled={disabled}\n          onClick={playerHitting}\n        >\n          Hit\n        </Button>\n        <Button\n          aria-label=\"Stand, end your turn\"\n          disabled={disabled}\n          onClick={playerStanding}\n        >\n          Stand\n        </Button>\n      </div>\n    </Wrapper>\n  );\n}\n","import React, { useContext, useEffect, useMemo, useRef } from 'react';\nimport styled, { ThemeProvider } from 'styled-components';\n\nimport theme from './styles/theme';\nimport device from './styles/device';\nimport GlobalStyle from './styles/GlobalStyle';\n\nimport context from './core/store/context';\nimport { Actions } from './core/store/reducer';\nimport { gameStateColor, gameStateText } from './core/utils/constants';\nimport { evaluateScoreResults } from './core/utils/value';\nimport useDeviceDetect from './core/hooks/useDeviceDetect';\n\nimport Hand from './components/Hand';\nimport MainActions from './components/MainActions';\n\nconst Container = styled.div`\n  text-align: center;\n  padding-bottom: 200px;\n\n  @media ${device.tablet} {\n    padding-bottom: 100px;\n  }\n`;\n\nconst Wrapper = styled.section`\n  display: flex;\n  flex-direction: column;\n  margin: 40px 20px 0;\n\n  > *:first-child {\n    margin-bottom: 20px;\n  }\n\n  @media ${device.tablet} {\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n\n    > *:first-child {\n      margin-bottom: 0;\n      margin-right: 20px;\n    }\n  }\n`;\n\nconst GameInfo = styled.h2<{ backgroundColor: string }>`\n  position: sticky;\n  padding: 10px;\n  margin: 0 0 40px;\n  background-color: ${({ backgroundColor }) => backgroundColor};\n  transition: background-color 0.5s ease;\n  top: 0;\n  z-index: 2;\n\n  @media ${device.tablet} {\n    position: relative;\n  }\n`;\n\nconst Title = styled.h1`\n  font-size: 3rem;\n  margin: 10px 0 0;\n`;\n\nconst Subtitle = styled.h2`\n  font-size: 1rem;\n  margin: 0;\n`;\n\nfunction App() {\n  const [state, dispatch] = useContext(context);\n  const { player, bank, playerStood, gameState } = state;\n  const bankHandComponent = useRef<HTMLDivElement>(null);\n  const isMobile = useDeviceDetect();\n\n  const newState = useMemo(\n    () => evaluateScoreResults(player.score, bank.score, playerStood),\n    [player.score, bank.score, playerStood]\n  );\n\n  useEffect(() => {\n    if (newState !== gameState) {\n      dispatch({ type: Actions.UPDATE_GAME, payload: newState });\n    }\n  }, [gameState, newState, dispatch]);\n\n  useEffect(() => {\n    if (bankHandComponent.current && isMobile && playerStood) {\n      // Get mobile user to the bank's hand without action from him\n      bankHandComponent.current?.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start',\n      });\n    }\n  }, [isMobile, playerStood]);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Container>\n        <GameInfo backgroundColor={gameStateColor[gameState]}>\n          {gameStateText[gameState]}\n        </GameInfo>\n        <header>\n          <Title>BlackJack</Title>\n          <Subtitle>Beat the bank's hand without going over 21</Subtitle>\n        </header>\n        <Wrapper>\n          <Hand title=\"Your hand\" game={player} />\n          <Hand ref={bankHandComponent} title=\"Bank's hand\" game={bank} />\n        </Wrapper>\n        <footer>\n          <MainActions />\n        </footer>\n      </Container>\n      <GlobalStyle />\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import { useEffect, useState } from 'react';\nimport { DeviceSize } from '../utils/constants';\n\nexport default function useWindowWidth() {\n  const [width, setWidth] = useState(window.innerWidth);\n\n  useEffect(() => {\n    const handleResize = () => setWidth(window.innerWidth);\n    window.addEventListener('resize', handleResize);\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  });\n\n  return width < DeviceSize.TABLET;\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Store from './core/store/Store';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Store>\n      <App />\n    </Store>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}